/**
 *
 * Copyright (c) 2024-2025 Analog Devices, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

@use '../../styles/fonts';
@use '../../styles/colors';
@use '../../styles/layout';

$transition-speed: 0.2s;
$vertical-offset: var(
	--sliding-panel-vertical-offset,
	0px
); // fallback needs to be set with px for calc to work.

.container {
	height: calc(100vh - #{$vertical-offset});
	color: colors.$default-foreground;
	font-family: fonts.$default-font-family;
	width: var(--sliding-panel-width, 262px);
	box-shadow: 0 0 8px colors.$default-border;
	background-color: colors.$default-background;
	border-left: 1px solid colors.$default-border;
	position: absolute;
	word-wrap: break-word;
	top: 0;
	right: 0;
	display: flex;
	flex-direction: column;
	z-index: var(--sliding-panel-z-index, 1100);

	&.minimised {
		width: 0;
		transition: width $transition-speed;

		.header {
			border-bottom: none;
		}

		.header h2,
		.content,
		.footer {
			display: none;
		}
	}

	&.opening {
		width: 262px;
		transition: width $transition-speed;
	}

	h2 {
		@include fonts.heading-h2;
		margin: 0;
	}

	h3 {
		@include fonts.heading-h3;
	}

	p {
		font-size: 12px;
	}

	.header {
		padding: 16px 20px;
		border-bottom: var(
			--sliding-panel-header-border-bottom,
			1px solid #{colors.$default-border}
		);
		.title {
			display: flex;
			justify-content: space-between;
		}
		.description {
			margin-top: 8px;
			color: colors.$description-foreground;
			@include fonts.label-l3;
			display: -webkit-box;
			line-clamp: 3;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
		}
	}

	.footer {
		border-top: 1px solid colors.$default-border;
		position: sticky;
		bottom: 0;
		background-color: colors.$default-background;
	}

	.content {
		position: relative;
		overflow-y: auto;
		flex-grow: 1;
	}

	.closeIcon {
		cursor: pointer;
	}
}
